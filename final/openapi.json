{"info":{"description":"This is an API for hot desk booking.","license":{"name":"GNU Affero General Public License v3.0"},"title":"Mensam API","version":""},"paths":{"/openapi":{"get":{"summary":"OpenAPI","description":"This OpenAPI specification is automatically generated from a servant API.\n","responses":{"200":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/OpenAPI"}}},"description":""}}}},"/login":{"post":{"summary":"Login","description":"Login to your user account.\n","responses":{"200":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ResponseLogin"}}},"description":""},"401":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorBasicAuth"}}},"description":""},"500":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":""}},"security":[{"BasicAuth":[]},{"JWT":[]}]}},"/register":{"post":{"summary":"Register","description":"Register a new user account.\n","requestBody":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/RequestRegister"}}}},"responses":{"201":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":""},"400":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorParseBodyJson"}}},"description":" or `body`"},"500":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":""}}}},"/profile":{"get":{"summary":"Request User Profile","description":"Request information for a user profile.\n","parameters":[{"in":"query","name":"name","required":true,"schema":{"maxLength":32,"minLength":4,"pattern":"^[a-zA-Z0-9]{4,32}$","type":"string"}}],"responses":{"200":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ResponseProfile"}}},"description":""},"400":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":" or `name`"},"404":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":""},"500":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":""}}}},"/space/create":{"put":{"summary":"Create Space","description":"Create a new space.\nYou will be an administrator of this newly created space.\n","requestBody":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/RequestSpaceCreate"}}}},"responses":{"201":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ResponseSpaceCreate"}}},"description":""},"400":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorParseBodyJson"}}},"description":" or `body`"},"401":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorBasicAuth"}}},"description":""},"500":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":""}},"security":[{"JWT":[]}]}},"/space/join":{"post":{"summary":"Join Space","description":"Become a member of a space.\n","requestBody":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/RequestSpaceJoin"}}}},"responses":{"200":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ResponseSpaceJoin"}}},"description":""},"400":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorParseBodyJson"}}},"description":" or `body`"},"401":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorBasicAuth"}}},"description":""},"500":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":""}},"security":[{"JWT":[]}]}},"/space/list":{"get":{"summary":"List Spaces","description":"List visible spaces.\n","requestBody":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/RequestSpaceList"}}}},"responses":{"200":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ResponseSpaceList"}}},"description":""},"400":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorParseBodyJson"}}},"description":" or `body`"},"401":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorBasicAuth"}}},"description":""},"500":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":""}},"security":[{"JWT":[]}]}},"/desk/create":{"put":{"summary":"Create Desk","description":"Create a new desk.\nThis desk will belong to the given space.\nYou have to be an administrator for that space to create desks.\n","requestBody":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/RequestDeskCreate"}}}},"responses":{"201":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ResponseDeskCreate"}}},"description":""},"400":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorParseBodyJson"}}},"description":" or `body`"},"401":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorBasicAuth"}}},"description":""},"500":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":""}},"security":[{"JWT":[]}]}},"/desk/list":{"get":{"summary":"List Desks","description":"List desks.\n","requestBody":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/RequestDeskList"}}}},"responses":{"200":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ResponseDeskList"}}},"description":""},"400":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorParseBodyJson"}}},"description":" or `body`"},"401":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorBasicAuth"}}},"description":""},"500":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":""}},"security":[{"JWT":[]}]}},"/reservation/create":{"put":{"summary":"Create Reservation","description":"Request a desk reservation.\nA desk can only be reserved by one user at any time.\n","requestBody":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/RequestReservationCreate"}}}},"responses":{"201":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ResponseReservationCreate"}}},"description":""},"400":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorParseBodyJson"}}},"description":" or `body`"},"401":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorBasicAuth"}}},"description":""},"409":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/StaticText"}}},"description":""},"500":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":""}},"security":[{"JWT":[]}]}},"/reservation/cancel":{"post":{"summary":"Cancel Reservation","description":"Cancel a desk reservation.\n","requestBody":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/RequestReservationCancel"}}}},"responses":{"200":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ResponseReservationCancel"}}},"description":""},"400":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorParseBodyJson"}}},"description":" or `body`"},"401":{"content":{"application/json;charset=utf-8":{"schema":{"$ref":"#/components/schemas/ErrorBasicAuth"}}},"description":""},"500":{"content":{"application/json;charset=utf-8":{"schema":{"example":[],"items":{},"maxItems":0,"type":"array"}}},"description":""}},"security":[{"JWT":[]}]}}},"components":{"schemas":{"OpenAPI":{"example":{"components":{},"info":{"title":"Example API","version":"1.0.0"},"openapi":"3.0.0","paths":{"/hello_world":{"get":{"responses":{"200":{"description":"OK"}}}}}}},"ResponseLogin":{"properties":{"jwt":{"$ref":"#/components/schemas/JWT"}},"required":["jwt"],"type":"object"},"JWT":{"example":"eyJhbGciOiJIUzUxMiJ9.eyJkYXQiOnsiaWQiOnsidW5JZGVudGlmaWVyVXNlciI6Mn19LCJleHAiOjEuNjgwMzAyMDY3Njc1OTUxMjYyZTl9.6RGNeoQC7nrA4O_IYfaMchojHLk-ScKSBi1f7-R1_qhUdttNIzVJzZfORvt5IzSfo9ye4OnHphDLDiU76qFxEQ","format":"jwt","type":"string"},"ErrorBasicAuth":{"enum":["username","password","indefinite"],"type":"string"},"ErrorParseBodyJson":{"properties":{"error":{"type":"string"}},"required":["error"],"type":"object"},"RequestRegister":{"properties":{"email":{"$ref":"#/components/schemas/EmailAddress"},"email-visible":{"type":"boolean"},"name":{"$ref":"#/components/schemas/Username"},"password":{"type":"string"}},"required":["name","password","email","email-visible"],"type":"object"},"Username":{"maxLength":32,"minLength":4,"pattern":"^[a-zA-Z0-9]{4,32}$","type":"string"},"EmailAddress":{"format":"email","type":"string"},"ResponseProfile":{"properties":{"email":{"$ref":"#/components/schemas/EmailAddress"},"id":{"type":"string"},"name":{"$ref":"#/components/schemas/Username"}},"required":["id","name","email"],"type":"object"},"ResponseSpaceCreate":{"properties":{"id":{"$ref":"#/components/schemas/IdentifierSpace"}},"required":["id"],"type":"object"},"IdentifierSpace":{"properties":{"unIdentifierSpace":{"format":"int64","maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"}},"required":["unIdentifierSpace"],"type":"object"},"RequestSpaceCreate":{"properties":{"accessibility":{"$ref":"#/components/schemas/AccessibilitySpace"},"name":{"type":"string"},"visibility":{"$ref":"#/components/schemas/VisibilitySpace"}},"required":["name","visibility","accessibility"],"type":"object"},"VisibilitySpace":{"enum":["visible","hidden"],"type":"string"},"AccessibilitySpace":{"enum":["joinable","inaccessible"],"type":"string"},"ResponseSpaceJoin":{"properties":{"unit":{"example":[],"items":{},"maxItems":0,"type":"array"}},"required":["unit"],"type":"object"},"RequestSpaceJoin":{"properties":{"space":{"$ref":"#/components/schemas/NameOrIdentifier_NameSpace_IdentifierSpace"}},"required":["space"],"type":"object"},"NameOrIdentifier_NameSpace_IdentifierSpace":{"oneOf":[{"properties":{"tag":{"enum":["name"],"type":"string"},"value":{"type":"string"}},"required":["tag","value"],"type":"object"},{"properties":{"tag":{"enum":["identifier"],"type":"string"},"value":{"$ref":"#/components/schemas/IdentifierSpace"}},"required":["tag","value"],"type":"object"}]},"ResponseSpaceList":{"properties":{"spaces":{"items":{"$ref":"#/components/schemas/Space"},"type":"array"}},"required":["spaces"],"type":"object"},"Space":{"properties":{"id":{"$ref":"#/components/schemas/IdentifierSpace"},"name":{"type":"string"}},"required":["id","name"],"type":"object"},"RequestSpaceList":{"properties":{"order":{"items":{"$ref":"#/components/schemas/OrderByCategory_SpaceOrderCategory"},"type":"array"}},"required":["order"],"type":"object"},"OrderByCategory_SpaceOrderCategory":{"properties":{"category":{"$ref":"#/components/schemas/SpaceOrderCategory"},"order":{"$ref":"#/components/schemas/Order"}},"required":["category","order"],"type":"object"},"SpaceOrderCategory":{"enum":["id","name"],"type":"string"},"Order":{"enum":["ascending","descending"],"type":"string"},"ResponseDeskCreate":{"properties":{"id":{"$ref":"#/components/schemas/IdentifierDesk"}},"required":["id"],"type":"object"},"IdentifierDesk":{"properties":{"unIdentifierDesk":{"format":"int64","maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"}},"required":["unIdentifierDesk"],"type":"object"},"RequestDeskCreate":{"properties":{"name":{"type":"string"},"space":{"$ref":"#/components/schemas/NameOrIdentifier_NameSpace_IdentifierSpace"}},"required":["name","space"],"type":"object"},"ResponseDeskList":{"properties":{"desks":{"items":{"$ref":"#/components/schemas/DeskWithInfo"},"type":"array"}},"required":["desks"],"type":"object"},"DeskWithInfo":{"properties":{"desk":{"$ref":"#/components/schemas/Desk"},"reservations":{"items":{"$ref":"#/components/schemas/Reservation"},"type":"array"}},"required":["desk","reservations"],"type":"object"},"Desk":{"properties":{"id":{"$ref":"#/components/schemas/IdentifierDesk"},"name":{"type":"string"},"space":{"$ref":"#/components/schemas/IdentifierSpace"}},"required":["id","space","name"],"type":"object"},"Reservation":{"properties":{"desk":{"$ref":"#/components/schemas/IdentifierDesk"},"id":{"$ref":"#/components/schemas/IdentifierReservation"},"status":{"$ref":"#/components/schemas/StatusReservation"},"time-begin":{"$ref":"#/components/schemas/UTCTime"},"time-end":{"$ref":"#/components/schemas/UTCTime"},"user":{"$ref":"#/components/schemas/IdentifierUser"}},"required":["id","desk","user","time-begin","time-end","status"],"type":"object"},"IdentifierReservation":{"properties":{"unIdentifierReservation":{"format":"int64","maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"}},"required":["unIdentifierReservation"],"type":"object"},"IdentifierUser":{"properties":{"unIdentifierUser":{"format":"int64","maximum":9223372036854775807,"minimum":-9223372036854775808,"type":"integer"}},"required":["unIdentifierUser"],"type":"object"},"UTCTime":{"example":"2016-07-22T00:00:00Z","format":"yyyy-mm-ddThh:MM:ssZ","type":"string"},"StatusReservation":{"enum":["planned","cancelled"],"type":"string"},"RequestDeskList":{"properties":{"space":{"$ref":"#/components/schemas/NameOrIdentifier_NameSpace_IdentifierSpace"},"time-begin":{"$ref":"#/components/schemas/UTCTime"},"time-end":{"$ref":"#/components/schemas/UTCTime"}},"required":["space"],"type":"object"},"ResponseReservationCreate":{"properties":{"id":{"$ref":"#/components/schemas/IdentifierReservation"}},"required":["id"],"type":"object"},"StaticText":{"enum":["Desk is not available within the given time window."],"type":"string"},"RequestReservationCreate":{"properties":{"desk":{"$ref":"#/components/schemas/NameOrIdentifier_DeskNameWithContext_IdentifierDesk"},"time-window":{"$ref":"#/components/schemas/Interval_UTCTime"}},"required":["desk","time-window"],"type":"object"},"NameOrIdentifier_DeskNameWithContext_IdentifierDesk":{"oneOf":[{"properties":{"tag":{"enum":["name"],"type":"string"},"value":{"$ref":"#/components/schemas/DeskNameWithContext"}},"required":["tag","value"],"type":"object"},{"properties":{"tag":{"enum":["identifier"],"type":"string"},"value":{"$ref":"#/components/schemas/IdentifierDesk"}},"required":["tag","value"],"type":"object"}]},"DeskNameWithContext":{"properties":{"desk":{"type":"string"},"space":{"type":"string"}},"required":["desk","space"],"type":"object"},"Interval_UTCTime":{"description":"An ordered interval: `start <= end`","properties":{"end":{"$ref":"#/components/schemas/UTCTime"},"start":{"$ref":"#/components/schemas/UTCTime"}},"required":["start","end"],"type":"object"},"ResponseReservationCancel":{"properties":{"unit":{"example":[],"items":{},"maxItems":0,"type":"array"}},"required":["unit"],"type":"object"},"RequestReservationCancel":{"properties":{"id":{"$ref":"#/components/schemas/IdentifierReservation"}},"required":["id"],"type":"object"}},"securitySchemes":{"BasicAuth":{"description":"Basic Authentication","scheme":"basic","type":"http"},"JWT":{"bearerFormat":"JWT","description":"Bearer Authentication","scheme":"bearer","type":"http"}}},"openapi":"3.0.0"}
